/**
 * Benchmark by stressing method calls.
 * 
 * Part of Promit Test Suit, location /test/Benchmark/Trees.Promit
 *
 * Created by SD Asif Hossein in 21th June, 2022 (Tuesday) at 12:39 PM (UTC +06).
 */

// Test class.

const class Foo {
    method0() {}
    method1() {}
    method2() {}
    method3() {}
    method4() {}
    method5() {}
    method6() {}
    method7() {}
    method8() {}
    method9() {}
    method10() {}
    method11() {}
    method12() {}
    method13() {}
    method14() {}
    method15() {}
    method16() {}
    method17() {}
    method18() {}
    method19() {}
    method20() {}
    method21() {}
    method22() {}
    method23() {}
    method24() {}
    method25() {}
    method26() {}
    method27() {}
    method28() {}
    method29() {}
};

take foo = Foo();

take start_time = Time::snap();

showl 'Benchmarking...';

for(take i = 0; i < 500000; i++) {
    foo.method0();
    foo.method1();
    foo.method2();
    foo.method3();
    foo.method4();
    foo.method5();
    foo.method6();
    foo.method7();
    foo.method8();
    foo.method9();
    foo.method10();
    foo.method11();
    foo.method12();
    foo.method13();
    foo.method14();
    foo.method15();
    foo.method16();
    foo.method17();
    foo.method18();
    foo.method19();
    foo.method20();
    foo.method21();
    foo.method22();
    foo.method23();
    foo.method24();
    foo.method25();
    foo.method26();
    foo.method27();
    foo.method28();
    foo.method29();
}

showl 'Benchmark finished!';
showl 'Took ${Time::snap() - start_time} seconds (CPU)!';